{"ast":null,"code":"import { setLocal } from \"./local\";\nexport const mobileLinkChoiceKey = \"WALLETCONNECT_DEEPLINK_CHOICE\";\nexport function formatIOSMobile(uri, entry) {\n  const encodedUri = encodeURIComponent(uri);\n  return entry.universalLink ? `${entry.universalLink}/wc?uri=${encodedUri}` : entry.deepLink ? `${entry.deepLink}${entry.deepLink.endsWith(\":\") ? \"//\" : \"/\"}wc?uri=${encodedUri}` : \"\";\n}\nexport function saveMobileLinkInfo(data) {\n  const focusUri = data.href.split(\"?\")[0];\n  setLocal(mobileLinkChoiceKey, Object.assign(Object.assign({}, data), {\n    href: focusUri\n  }));\n}\nexport function getMobileRegistryEntry(registry, name) {\n  return registry.filter(entry => entry.name.toLowerCase().includes(name.toLowerCase()))[0];\n}\nexport function getMobileLinkRegistry(registry, whitelist) {\n  let links = registry;\n\n  if (whitelist) {\n    links = whitelist.map(name => getMobileRegistryEntry(registry, name)).filter(Boolean);\n  }\n\n  return links;\n}","map":{"version":3,"sources":["../../src/mobile.ts"],"names":[],"mappings":"AAEA,SAAS,QAAT,QAAyB,SAAzB;AAEA,OAAO,MAAM,mBAAmB,GAAG,+BAA5B;AAEP,OAAM,SAAU,eAAV,CAA0B,GAA1B,EAAuC,KAAvC,EAAkE;AACtE,QAAM,UAAU,GAAW,kBAAkB,CAAC,GAAD,CAA7C;AACA,SAAO,KAAK,CAAC,aAAN,GACH,GAAG,KAAK,CAAC,aAAa,WAAW,UAAU,EADxC,GAEH,KAAK,CAAC,QAAN,GACA,GAAG,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,QAAN,CAAe,QAAf,CAAwB,GAAxB,IAA+B,IAA/B,GAAsC,GAAG,UAAU,UAAU,EADjF,GAEA,EAJJ;AAKD;AAED,OAAM,SAAU,kBAAV,CAA6B,IAA7B,EAAkD;AACtD,QAAM,QAAQ,GAAG,IAAI,CAAC,IAAL,CAAU,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAAjB;AACA,EAAA,QAAQ,CAAC,mBAAD,EAAoB,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAO,IAAP,CAAA,EAAW;AAAE,IAAA,IAAI,EAAE;AAAR,GAAX,CAApB,CAAR;AACD;AAED,OAAM,SAAU,sBAAV,CACJ,QADI,EAEJ,IAFI,EAEQ;AAEZ,SAAO,QAAQ,CAAC,MAAT,CAAiB,KAAD,IACrB,KAAK,CAAC,IAAN,CAAW,WAAX,GAAyB,QAAzB,CAAkC,IAAI,CAAC,WAAL,EAAlC,CADK,EAEL,CAFK,CAAP;AAGD;AAED,OAAM,SAAU,qBAAV,CAAgC,QAAhC,EAA2D,SAA3D,EAA+E;AACnF,MAAI,KAAK,GAAG,QAAZ;;AACA,MAAI,SAAJ,EAAe;AACb,IAAA,KAAK,GAAG,SAAS,CAAC,GAAV,CAAe,IAAD,IAAkB,sBAAsB,CAAC,QAAD,EAAW,IAAX,CAAtD,EAAwE,MAAxE,CAA+E,OAA/E,CAAR;AACD;;AACD,SAAO,KAAP;AACD","sourceRoot":"","sourcesContent":["import { setLocal } from \"./local\";\nexport const mobileLinkChoiceKey = \"WALLETCONNECT_DEEPLINK_CHOICE\";\nexport function formatIOSMobile(uri, entry) {\n    const encodedUri = encodeURIComponent(uri);\n    return entry.universalLink\n        ? `${entry.universalLink}/wc?uri=${encodedUri}`\n        : entry.deepLink\n            ? `${entry.deepLink}${entry.deepLink.endsWith(\":\") ? \"//\" : \"/\"}wc?uri=${encodedUri}`\n            : \"\";\n}\nexport function saveMobileLinkInfo(data) {\n    const focusUri = data.href.split(\"?\")[0];\n    setLocal(mobileLinkChoiceKey, Object.assign(Object.assign({}, data), { href: focusUri }));\n}\nexport function getMobileRegistryEntry(registry, name) {\n    return registry.filter((entry) => entry.name.toLowerCase().includes(name.toLowerCase()))[0];\n}\nexport function getMobileLinkRegistry(registry, whitelist) {\n    let links = registry;\n    if (whitelist) {\n        links = whitelist.map((name) => getMobileRegistryEntry(registry, name)).filter(Boolean);\n    }\n    return links;\n}\n//# sourceMappingURL=mobile.js.map"]},"metadata":{},"sourceType":"module"}